<div class="box-header with-border">
  <h3 class="box-title">New Dealer</h3>
</div>
<!-- /.box-header -->
<!-- form start -->
<div ng-controller="dealerCtrl as main">

  <div ng-if="!main.isEditing">
    <form role="form" name="dealerFormValidate" ng-submit="main.createDealer(main.newDealer)" novalidate>
      <div class="box-body">
        <div class="form-group">
          <label for="exampleInputCode">Code</label>
          <input type="text" class="form-control" name="code" ng-model="main.newDealer.Code" placeholder="Code" required>
          <span style="color:green" ng-if="dealerFormValidate.code.$valid"> Valid </span>

          <div ng-if="main.errors.details.messages.Code[0]">
          <div style="color:red">  {{ main.errors.details.messages.Code[0] }}</div>
          </div>
          <div class="form-group">
            <label for="exampleInputName">Name</label>
            <input type="text" name="Name" class="form-control" ng-model="main.newDealer.Name" placeholder="Name" required>
            <span style="color:green" ng-if="dealerFormValidate.Name.$valid"> Valid </span>
            <div ng-if="main.errors.details.messages.Name[0]">
            <div style="color:red">  {{ main.errors.details.messages.Name[0] }}</div>
            </div>
          </div>
          <div class="form-group" id="scrollable-dropdown-menu">
            <label for="exampleInputBranch">Branch</label></br>
            <input type="text" name="branchid" ng-model="selectedTestBranch" typeahead="item as item.id +' - '+ item.code +' - '+ item.name for item in main.branches | filter:$viewValue"
              typeahead-on-select="main.selectBranch(selectedTestBranch)" placeholder="Branch" required>
            <span style="color:green" ng-if="dealerFormValidate.branchid.$valid"> Valid </span>
            <div ng-if="main.errors.details.messages.branchid[0]">
            <div style="color:red">  {{ main.errors.details.messages.branchid[0] }}</div>
            </div>
          </div>
          <!-- <div class="form-group" >   
                    <label for="exampleSelectId">Branch</label> 
                    <select class="form-control select2" style="width: 100%;"  ng-model="selectedTestBranch" ng-options="item as item.name +' - '+ item.id +' - '+ item.code for item in main.branches" ng-change="main.selectBranch(selectedTestBranch)">
                      <option value="">Select ID</option>
                    </select>
                </div>-->
          <div class="form-group">

            <input type="hidden" class="form-control" ng-model="main.newDealer.BranchId">
          </div>
          <div class="form-group">

            <input type="hidden" class="form-control" ng-model="main.newDealer.BranchCode">
          </div>
          <div class="form-group">

            <input type="hidden" class="form-control" ng-model="main.newDealer.BranchName" placeholder="BranchName" required>
          </div>
          <div class="form-group">
            <label for="exampleInputDescription">Description</label>
            <input type="text" name="desc" class="form-control" ng-model="main.newDealer.Description" placeholder="Description" required>
            <span style="color:green" ng-if="dealerFormValidate.desc.$valid"> Valid </span>
            <div ng-if="main.errors.details.messages.Description[0]">
            <div style="color:red">  {{ main.errors.details.messages.Description[0] }}</div>
            </div>
          </div>
          <div class="form-group">
            <label for="exampleInputAddress">Address</label>
            <input type="text" name="Address" class="form-control" ng-model="main.newDealer.Address" placeholder="Address" required>
            <span style="color:green" ng-if="dealerFormValidate.Address.$valid"> Valid </span>
            <div ng-if="main.errors.details.messages.Address[0]">
            <div style="color:red">  {{ main.errors.details.messages.Address[0] }}</div>
            </div>
          </div>
          <div class="form-group">
            <label for="exampleInputPhoneNumber">Phone Number</label>
            <input type="text" name="PhoneNumber" class="form-control" ng-model="main.newDealer.PhoneNumber" placeholder="PhoneNumber"
              required>
            <span style="color:green" ng-if="dealerFormValidate.PhoneNumber.$valid"> Valid </span>
            <div ng-if="main.errors.details.messages.PhoneNumber[0]">
             <div style="color:red"> {{ main.errors.details.messages.PhoneNumber[0] }}</div>
            </div>
          </div>
        </div>
        <!-- /.box-body -->

        <div class="box-footer">
          <button type="submit" class="btn btn-primary">Submit</button>
        </div>
    </form>
    </div>
  </div>
<div class="box-header with-border">
  <h3 class="box-title">New Product</h3>
</div>
<div ng-controller="productCtrl as main">
  <!-- /.box-header -->
  <!-- form start -->
  <div ng-if="!main.isEditing">
    <form role="form" name="productFormValidate" ng-submit="main.createProduct(main.newProduct)" novalidate>
      <div class="box-body">
        <!--<div class="form-group" id="scrollable-dropdown-menu">
                  <label for="exampleInputBrands">Brands</label></br>
                  <input type="text" ng-model="selectedTestBrand" typeahead="item as item.code for item in main.brands | filter:$viewValue" typeahead-on-select="main.selectBrand(selectedTestBrand)" placeholder="Brands">
                  <pre>selectedTestBrand|json</pre>
                </div>-->
        <div class="form-group" id="scrollable-dropdown-menu">
          <label for="exampleInputBranch">BrandCode</label></br>
          <input type="text" name="brandId" ng-model="selectedTestBrand" typeahead="item as item.Code +' ('+ item.Nama +')' for item in main.brands | filter:$viewValue"
            typeahead-on-select="main.selectBrand(selectedTestBrand)" placeholder="Brand" required>
            <div ng-if="main.errors.details.messages.BrandCode[0]">
              <div style="color:red"> {{main.errors.details.messages.BrandCode[0]}}</div>
            </div>
            <span style="color:green" ng-if ="productFormValidate.brandId.$valid"> Valid </span>
        </div>
        <div class="form-group">
          <input type="hidden" class="form-control" name="brandCode" ng-model="main.newProduct.BrandCode" max-length="4" placeholder="BrandCode" required>
          <span style="color:red" ng-show="productFormValidate.brandCode.$dirty && productFormValidate.brandCode.$invalid "> 
        </div>
        <div class="form-group">
          <label for="exampleInputCode">Code</label>
          <input type="text" name="Code" class="form-control" ng-model="main.newProduct.Code" placeholder="Code" required>
          <div ng-if="main.errors.details.messages.Code[0]">
              <div style="color:red"> {{main.errors.details.messages.Code[0]}}</div>
            </div>
            <span style="color:green" ng-if ="productFormValidate.Code.$valid"> Valid </span>
        </div>
        <div class="form-group">
          <label for="exampleInputSKU">SKU</label>
          <input type="text" name="SKU" class="form-control" ng-model="main.newProduct.SKU" placeholder="SKU" required>
         <div ng-if="main.errors.details.messages.Code[0]">
              <div style="color:red"> {{main.errors.details.messages.Code[0]}}</div>
            </div>
            <span style="color:green" ng-if ="productFormValidate.Code.$valid"> Valid </span>
        </div>
        <div class="form-group">
          <label for="exampleInputName">Name</label>
          <input type="text" name="Name" class="form-control" ng-model="main.newProduct.Name" placeholder="Name" required>
          <div ng-if="main.errors.details.messages.Name[0]">
              <div style="color:red"> {{main.errors.details.messages.Name[0]}}</div>
            </div>
            <span style="color:green" ng-if ="productFormValidate.Name.$valid"> Valid </span>
        </div>
        <div class="form-group">
          <label for="exampleInputDescription">Description</label>
          <input type="text" name="Desc" class="form-control" ng-model="main.newProduct.Description" placeholder="Description" required>
          <div ng-if="main.errors.details.messages.Description[0]">
              <div style="color:red"> {{main.errors.details.messages.Description[0]}}</div>
            </div>
            <span style="color:green" ng-if ="productFormValidate.Desc.$valid"> Valid </span>
        </div>
        <div class="form-group">
          <label for="exampleInputPrice">Price</label>
          <input type="text" name="Price" class="form-control" ng-model="main.newProduct.Price" placeholder="Price" required>
          <div ng-if="main.errors.details.messages.Price[0]">
              <div style="color:red"> {{main.errors.details.messages.Price[0]}}</div>
            </div>
          <div ng-if="main.errors.details.messages.Price[1]">
              <div style="color:red"> {{main.errors.details.messages.Price[1]}}</div>
            </div>
            <span style="color:green" ng-if ="productFormValidate.Price.$valid"> Valid </span>
        </div>
        <div class="form-group">
          <label for="exampleInputSpecification">Specification</label>
          <input type="text" name="Spec" class="form-control" ng-model="main.newProduct.Specification" placeholder="Specification" required>
          <div ng-if="main.errors.details.messages.Specification[0]">
              <div style="color:red"> {{main.errors.details.messages.Specification[0]}}</div>
            </div>
            <span style="color:green" ng-if ="productFormValidate.Spec.$valid"> Valid </span>
        </div>

      </div>
      <!-- /.box-body -->

      <div class="box-footer">
        <button type="submit" class="btn btn-primary">Submit</button>
      </div>
    </form>
  </div>
</div>